<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CMS - Map</title>
    <link rel="stylesheet" href="https://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.min.css">

    <!-- jQuery -->
    <script type="application/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>

    <!-- Vue JS -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>

    <!-- Application -->
    <link rel="stylesheet" href="css/style.css"/>
    <script type="application/javascript" src="scripts/app.js"></script>
</head>

<body onload="init()">



  <!-- Navigation -->
  <div class="top-bar" id="realEstateMenu">
    <div class="top-bar-left">
      <ul class="menu" data-responsive-menu="accordion">
        <li class="menu-text">Crime Map Services</li>
        <li><a href="">Map</a></li>
        <li><a href="./about.html">About</a></li>
      </ul>
    </div>
  </div>

    <!-- Selections -->
    <div class="row">
      <!-- Contains lat, long, and general search options -->
      <div class="control">
          <h3>Location Search<h3>
            <p>Note: You may enter either a latitude and longitude pair, or alternatively just an address.</p>
            <div class="row">
                <h4>Latitude</h4>
                <input id="latitude" type="text" value="" oninput="updateLatitude()" v-model="lat">
                <h6>Current Latitude</h6>
                <h6 id="latitude_value">44.95495413330279</h6>
                <h4>longitude</h4>
                <input id="longitude" type="text" oninput="updateLongitude()" v-model="long">
                <h6>Current Longitude</h6>
                <h6 id="longitude_value">-93.10229181518557</h6>
                <button type="button" onclick="moveMap()" @click="<!-- Vue function -->">Go</button>
                <div class="address">
                <h2>OR</h2>
                <h4>Address</h4>
                <input type="text" id="address">
                <h4>Street</h4>
                <button type="button" onclick="addressToCoordinates()">Go</button>
            </div>

            </div>

          <!-- Upadate map lat, long, or general search -->

          </br>

      </div>

      <!-- Contains filters for each search criteria using vue -->
      <div class="control">
          <h3>Filters</h3>
          <div>
              <h5>Incident code</h5>
              <ul>
                  <li v-for="(name, code) in incidentCodes">
                      <input type="checkbox" value="code" v-model="incidentsCodesFilters">{{ name }},{{ code }}
                  </li>
              </ul>
              <!-- May need some data type adjustment -->
          </div>
          </br>
          <div>
              <h5>Neighborhood ID</h5>
              <ul>
                  <li v-for="(n, id) in neighborhoodIDs">
                      <input type="checkbox" value="id" v-model="neighborhoodIDFilters">{{ n.name }},{{ id }}
                  </li>
              </ul>
              <!-- May need some datatype adjustment -->
          </div>
          </br>
          <div>
              <h5>Date and time range</h5>
              <label>Date range</label>
              <input type="text" placeholder="Start (YYYY-MM-DD)" v-model="dStart"/>
              <input type="text" placeholder="End (YYYY-MM-DD)" v-model="dEnd"/>
              </br>
              <label>Time range</label>
              <input type="text" placeholder="Start (HH:MM:SS)" v-model="tStart"/>
              <input type="text" placeholder="End (HH:MM:SS)" v-model="tEnd"/>
          </div>
          </br>
          <div>
              <h5>Max incidents displayed</h5>
              <input type="text" placeholder="1000" v-model="max"/>
          </div>
          </br>

          <!-- Upadate map filter options -->
          <button type="button" @click="updateFilters">Filter Incidents</button>
      </div>

    </div>

    <!-- Main map app -->
    <div id="map">
        <div id="leafletmap"></div>
    </div>

    <!-- Table here -->
    <div id="table">
      <table>
        <thead>
          <tr>
            <th>Code</th>
            <th>Incident Type</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="row in rows" :key="user.id">
            <td>{{codes}}</td>
            <td>{{incident_type}}</td>
          </tr>
        </tbody>
      </table>
    </div>


    <div id="table">
      <table>
        <thead>
          <tr>
            <th>Neighborhood</th>
            <th>Neighborhood Number</th>
        </tr>
        </thead>
        <tbody>
          <tr v-for="row in rows" :key="user.id">
            <td>{{neighborhood}}</td>
            <td>{{neighborhood_number}}</td>
          </tr>
        </tbody>
      </table>
    </div>


  <div id="table">
    <table>
      <thead>
        <tr>
          <th>Case Number</th>
          <th>Date/Time</th>
          <th>Code</th>
          <th>Incident</th>
          <th>Police Grid</th>
          <th>Neighborhood Number</th>
          <th>Block</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="row in rows" :key="user.id">
          <td>{{case_number}}</td>
          <td>{{date_time}}</td>
          <td>{{code}}</td>
          <td>{{incident}}</td>
          <td>{{police_grid}}</td>
          <td>{{neighborhood_number}}</td>
          <td>{{block}}</td>
        </tr>
      </tbody>
    </table>
  </div>

</body>
</html>
